<div class="container-fluid">
  <div class="container pt-5">
    {{!-- Pet Details --}}
    <div class="row pt-5">
      <div class="col-md-6 mt-1">
        <div class="card" style="width: 100%;">
          <div class="img-crop">
            <img
              src="https://images.pexels.com/photos/220938/pexels-photo-220938.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940"
              class="card-img-top" alt="...">
          </div>
          <i class="fas fa-edit" data-toggle="modal" data-target="#modalEditarFoto"></i>
          <div class="card-body d-flex justify-content-between align-items-between">
            <h5 class="card-title text-center">{{obj.pet.name}}</h5>
            <i class="fas fa-edit" data-toggle="modal" data-target="#modalEditarPet"></i>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item"><strong>Espécie: </strong> {{obj.pet.species}}</li>
            <li class="list-group-item"><strong>Nascimento: </strong> {{obj.pet.birthdate}}</li>
            <li class="list-group-item"><strong>Dono: </strong> {{obj.pet.owner.name}}</li>
          </ul>
        </div>
      </div>

      {{!-- Events --}}
      <div class="col-md-6">
        <button data-toggle="modal" data-target="#modalAddEvent">Adicionar Evento</button>
        {{#each obj.events}}
          <div class="card my-1" style="width: 100%;">
            <div class="card-body">
              <div class="row">
                <div class="col-3 d-flex justify-content-center align-items-center">
                  <i class="fas fa-syringe display-4"></i>
                </div>
                <div class="col-9">
                  <div class="d-flex justify-content-between align-items-between">
                    <h5 class="card-title">{{title}}</h5>
                    <i class="fas fa-edit" data-toggle="modal" data-target="#modalEditEvent-{{_id}}"></i>
                  </div>
                  <h6 class="card-subtitle my-2 text-muted">Tipo: {{type}}</h6>
                  <h6 class="card-subtitle my-2 text-muted">Data: {{date}}</h6>
                  <h6 class="card-subtitle my-2 text-muted">Descrição: {{description}}</h6>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>


    {{!-- modal de editar eventos--}}
    <div class="modal fade" id="modalEditEvent-{{_id}}" tabindex="-1" role="dialog"
      aria-labelledby="modalEditEventTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalEditEventTitle-{{_id}}">Editar Evento</h5>
          </div>
          <div class="modal-body">
            <form action="/event/edit/{{_id}}" method="POST">
              <div class="form-group">
                <label for="inputPassword1">Tipo</label>
                <select class="custom-select" name="type" id="type-{{_id}}" required>
                  <option value="" disabled selected>Tipo</option>
                  <option value="Vacina">Vacina</option>
                  <option value="Consulta">Consulta</option>
                  <option value="Cirurgia">Cirurgia</option>
                  <option value="Banho/Tosa">Banho/Tosa</option>
                  <option value="Aniversario">Aniversário</option>
                  <option value="Outros">Outros</option>
                </select>
              </div>
              <div class="form-group">
                <label for="Title">Titulo</label>
                <input type="text" placeholder="Evento do Pet" name="title" class="form-control" id="title-{{_id}}"
                  aria-describedby="titleHelp" value="{{title}}" required>
              </div>
              <div class="form-group">
                <label for="Description">Descrição</label>
                <input type="text" placeholder="Insira uma descrição" name="description" class="form-control"
                  id="description-{{_id}}" aria-describedby="descriptionHelp" value="{{description}}" required>
              </div>
              <div class="form-group">
                <label for="inputEventDate">Data do Evento</label>
                <input type="date" name="date" class="form-control" id="date-{{_id}}" aria-describedby="dateHelp"
                  value="{{date}}" required>
              </div>
              <button type="submit" class="btn btn-main btn-block">Salvar</button>
              <a class="btn btn-delete btn-block" href="/event/delete/{{_id}}">Excluir</a>

            </form>
          </div>
        </div>
      </div>
    </div>

    {{/each}}


    {{!-- Modal Edit Pet --}}
    <div class="modal fade" id="modalEditarPet" tabindex="-1" role="dialog" aria-labelledby="modalEditarPetTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalEditarPetTitle">Editar Pet</h5>
          </div>
          <div class="modal-body">
            <form action="/pet/edit/{{obj.pet._id}}" method="POST">
              <div class="form-group">
                <label for="inputEmail1">Nome</label>
                <input type="text" placeholder="Seu Pet" name="name" class="form-control" id="inputEmail1"
                  aria-describedby="emailHelp" value="{{obj.pet.name}}" required>
              </div>
              <div class="form-group">
                <label for="inputPassword1">Espécie</label>
                <select class="custom-select" name="species" id="species" required>
                  <option value="" disabled selected>Espécie</option>
                  <option value="Cachorro">Cachorro</option>
                  <option value="Gato">Gato</option>
                  <option value="Ave">Ave</option>
                  <option value="Coelho">Coelho</option>
                  <option value="Tartaruga">Tartaruga</option>
                  <option value="Outro">Outro</option>
                </select>
              </div>
              <div class="form-group">
                <label for="inputBirthdate">Data de Nascimento</label>
                <input type="date" name="birthdate" class="form-control" id="inputBirthdate"
                  aria-describedby="birthdateHelp" value="{{obj.pet.birthdate}}" required>
              </div>
              <button type="submit" class="btn btn-main btn-block">Salvar</button>
              <a class="btn btn-delete btn-block" href="/pet/delete/{{obj.pet._id}}">Excluir</a>
            </form>
          </div>
        </div>
      </div>
    </div>

    {{!-- Modal Edit Foto --}}
    <div class="modal fade" id="modalEditarFoto" tabindex="-1" role="dialog" aria-labelledby="modalEditarFotoTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalEditarFotoTitle">Trocar Foto</h5>
          </div>
          <div class="modal-body">
            <form action="/pet/edit/:id" method="POST" enctype="multipart/form-data">
              <div class="form-group">
                <label for="inputPhoto">Foto</label>
                <div class="custom-file">
                  <input type="file" class="custom-file-input" id="customFileLangHTML">
                  <label class="custom-file-label" for="inputPhoto" data-browse="Procurar">Insira uma foto</label>
                </div>
              </div>
              <button type="submit" class="btn btn-main btn-block">Salvar</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    {{!-- Modal Event --}}

    <div class="modal fade" id="modalAddEvent" tabindex="-1" role="dialog" aria-labelledby="modalAddEventTitle"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modalAddEventTitle">Adicionar Evento</h5>
          </div>
          <div class="modal-body">
            <form action="/event/add/{{obj.pet._id}}" method="POST">
              <div class="form-group">
                <label for="inputPassword1">Tipo</label>
                <select class="custom-select" name="type" id="type" required>
                  <option value="" disabled selected>Tipo</option>
                  <option value="Vacina">Vacina</option>
                  <option value="Consulta">Consulta</option>
                  <option value="Cirurgia">Cirurgia</option>
                  <option value="Banho/Tosa">Banho/Tosa</option>
                  <option value="Aniversario">Aniversário</option>
                  <option value="Outros">Outros</option>
                </select>
              </div>
              <div class="form-group">
                <label for="Title">Titulo</label>
                <input type="text" placeholder="Evento do Pet" name="title" class="form-control" id="title"
                  aria-describedby="titleHelp" required>
              </div>
              <div class="form-group">
                <label for="Description">Descrição</label>
                <input type="text" placeholder="Insira uma descrição" name="description" class="form-control"
                  id="description" aria-describedby="descriptionHelp" required>
              </div>
              <div class="form-group">
                <label for="inputEventDate">Data do Evento</label>
                <input type="date" name="date" class="form-control" id="date" aria-describedby="dateHelp" required>
              </div>
              <button type="submit" class="btn btn-main btn-block">Salvar</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>